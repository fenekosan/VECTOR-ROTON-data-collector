# VECTOR ROTON F data collector

Данный скрипт подключается к ротону через его веб-интерфейс и собирает базовую информацию, такую как температура, состояние канала и т.д.

# Зависимости

Скрипт написан на языке Python версии 3 с использованием следующих модулей:
 - requests
 - json
 - sys

 Если данные модули у вас не установленны, то можно произвести установку через утилите pip:
 ```sh
 $ pip3 install requests
 $ pip3 install json
 $ pip3 install sys
 ``` 



# Как использовать

Чтобы получить данные о состоянии канала, нужно знать его адрес мультикаста:
```sh
$ main.py ip_roton ip_mcast
```

Если вернется 0, значит все в порядке, а если 1 то значит отсуствует поток на входе

Внимание! Событие об изменении SID канала пока отселживать невозможно!

К примеру, у нас есть мультикаст 239.0.1.1 на РОТОН'е 192.168.0.2 (при этом не важно на каком канале он добавлен)

```sh
$ main.py 192.168.0.2 239.0.1.1
1
```


Для получения данных о состоянии оборудования используется следующая команда:
```sh
$ main.py ip_roton base
```

Вывод будет примерно следующим:
 - Температура платы
 - Температура процессора
 - Состояние питания (если 0 то все в порядке, если 1 значит одно из двух питаний отсуствует)
 - uptime системы
 - Состояние системы охлаждения (вывод на каждый вентилятор в отдельности, но всего их пять. Если 0 то все в порядке, если 1 то вентилятор не исправен)
 - Так же дополнительно может выводиться информация о состоянии линка на порту или скорость вращения. Для получения этих данных достаточно раскомментировать строки

К примеру, соберем информацию с устройства на 192.168.0.2
```sh
$ main.py 192.168.0.2 base
40
52
44122
0
0
0
0
0

```


### Авторизация

Для прохождения авторизации на устройстве, необходимо указать свой логин и пароль в скрипте в строках 10 и 34:
```python
10 r = s.post('http://'+ip_roton+'/auth/login', data = {'username':'admin', 'password':'admin'}) #авторизация
```
```sh
34 r = s.post('http://' + ip_roton + '/auth/login', data={'username': 'admin', 'password': 'admin'})  # авторизация

```


License
----

MIT
